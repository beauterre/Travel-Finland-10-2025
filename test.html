<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery with Lightbox and Controls</title>
    <style>
        /* Body Layout */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f8ff;
            color: #333;
        }

        /* Header Section */
        h1 {
            margin: 20px auto;
            text-align: center;
        }

        /* Gallery Section */
      #gallery {
    display: flex;                      /* Use flexbox for horizontal layout */
    flex-wrap: nowrap;                   /* Prevent items from wrapping to the next line */
    gap: 1rem;                           /* Space between items */
    padding: 20px;
    margin-top: 20px;
    margin-right: 10px;
    width: calc( 100% - 20px);
          box-shadow: inset 0 4px 10px rgba(0, 0, 0, 0.2);
    max-width: 100%;                     /* Take full width of the container */
    overflow-x: auto;                    /* Enable horizontal scrolling */
    overflow-y: hidden;                  /* Prevent vertical scrolling */
    max-height: 60vh;                    /* Limit the height */
}

#gallery::-webkit-scrollbar {
    height: 8px; /* Scrollbar height */
}

#gallery::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 10px;
}

#gallery::-webkit-scrollbar-thumb:hover {
    background: #555;
}

#gallery .thumb {
    min-width: 150px;                    /* Ensure minimum size for each item */
    max-width: 150px;                    /* Control maximum width */
    height: 150px;
    flex-shrink: 0;                      /* Prevent items from shrinking */
    cursor: pointer;
}

        .thumb {
            position: relative;
            width: 100%;
            height: 100px; /* Make it a square */
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .thumb img, .thumb iframe {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Center and fill without stretching */
        }

        .thumb .play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border-radius: 50%;
            display: none;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            cursor: pointer;
        }

        .thumb.video .play-btn {
            display: flex; /* Show play button for videos */
             pointer-events: none; /* Allow interactions with the play button */
        }

        /* Modal (Lightbox) Styles */
        .modal {
            display: none; 
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            position: relative;
            background: #fff;
            padding: 20px;
            max-width: 90%;
            max-height: 90%;
            border-radius: 12px;
            text-align: center;
            overflow: hidden;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 30px;
            color: #333;
            cursor: pointer;
            width: 30px;
            height: 30px;
            background: white;
            border-radius: 15px;
            z-index: 10;
        }

        /* Modal Media (Image and Video) */
        #modal-media img, #modal-media iframe {
            max-width: 100%;  /* Ensure media is not too large */
            max-height: 80vh; /* Ensure media is contained within the view */
            object-fit: contain;
            transition: transform 0.3s ease-in-out;
        }
        
        /* Specific adjustments for videos in the modal */
        .thumb.video iframe {
            max-width: 100%;  /* Ensure it scales well */
            max-height: 90vh; /* Ensure videos occupy most of the modal height */
            width: auto;
            height: auto;
        }
        #modal-media img {
            max-width: 100%;
            max-height: 80vh;
            object-fit: contain;
            transition: transform 0.3s ease-in-out;
        }

        /* Controls */
        .controls {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        .control-btn {
            background: rgba(0, 0, 0, 0.6);
            color: white;
            border: none;
            padding: 10px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 50%;
            transition: background 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .control-btn:hover {
            background: rgba(0, 0, 0, 0.9);
        }

        .rotate-btn {
            font-size: 22px;
        }

        .next-prev-btn {
            font-size: 24px;
        }

    </style>
</head>
<body>

    <!-- Title -->
    <h1>Gallery with Lightbox and Controls</h1>

    <!-- Gallery Section -->
    <div id="gallery"></div>

    <!-- Modal (Lightbox) -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span id="closeBtn" class="close-btn">&times;</span>
            <div id="modal-media"></div>
            <div class="controls">
                <button id="prevBtn" class="control-btn next-prev-btn">‚ùÆ</button>
                <button id="rotateBtn" class="control-btn rotate-btn">üîÑ</button>
                <button id="nextBtn" class="control-btn next-prev-btn">‚ùØ</button>
            </div>
        </div>
    </div>

    <!-- Data Script -->
    <script>
        const photoPath = "./fotos/Dag9/"; // base path for local photos
       const items = [
  { kind: "image", url: "Screenshot_20251010-175907.png" }, 

  { kind: "youtube", id: "JYt82UGhnOM" }, 
  { kind: "youtube", id: "uk500H2d274" }, 
  { kind: "youtube", id: "2fGf_YFchRM" }, 
  { kind: "youtube", id: "znYZmf6yetA" }, 
  { kind: "youtube", id: "1JZkNYbJpjw" }, 
  { kind: "youtube", id: "d7wIWFS-U8s" }, 
  { kind: "youtube", id: "RNxJ1nIHrvk" }, 
  { kind: "youtube", id: "_12uPhPoj3c" }, 
  { kind: "youtube", id: "7McTWFjGgRQ" }, 
  { kind: "youtube", id: "mY4wT9diCY4" }, 
  { kind: "youtube", id: "65fpQlDfQOM" }, 
  { kind: "youtube", id: "0kKeZzPXBPI" }, 
  { kind: "youtube", id: "6hmMiU5AU28" }, 
  { kind: "youtube", id: "uvUj3tIPgb4" }, 
  { kind: "youtube", id: "W1In7UDRUgM" }, 
  { kind: "youtube", id: "7kk9S5dpWks" }, 
  { kind: "youtube", id: "891zlweu8ck" }, 
  { kind: "youtube", id: "PI6751cuxzY" }, 
  { kind: "youtube", id: "2uf7hgXJtxs" }, 
  { kind: "youtube", id: "Y28qwQQfh9o" }, 
  { kind: "youtube", id: "6br0QBjWueA" }, 
  { kind: "youtube", id: "RrINQhup-l4" }, 
  { kind: "youtube", id: "hRAHkf0u4qA" }, 
  { kind: "youtube", id: "yHUgVB3Ftsk" }, 
  { kind: "youtube", id: "CKrMOvK8DSo" },
  { kind: "image", url: "IMG-20251010-WA0003.jpeg" }, 
  { kind: "image", url: "IMG-20251010-WA0005.jpeg" }, 
  { kind: "image", url: "photo_2025-10-10T11-02-01-497Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T11-02-03-954Z.png", setAsBackground:true  }, 
  { kind: "image", url: "photo_2025-10-10T11-02-20-727Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T11-02-36-202Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T11-03-26-105Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T11-04-27-563Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T11-04-35-425Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T11-05-12-240Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T11-24-38-267Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T11-24-48-321Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T11-25-53-103Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-38-17-075Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-38-28-221Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-38-49-659Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-39-06-814Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-39-18-963Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-39-40-407Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-39-58-395Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-40-04-330Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-40-27-039Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-40-41-813Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-40-47-946Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-41-34-909Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T12-41-45-960Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T13-00-57-459Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T13-46-08-377Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-03-46-516Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-03-52-670Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-05-11-456Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-05-33-954Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-06-27-254Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-06-31-948Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-07-38-457Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-08-23-794Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-08-34-109Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-08-42-503Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-09-38-030Z.png" }, 
  { kind: "image", url: "photo_2025-10-10T14-10-22-316Z.png" }
];

        let currentIndex = -1; // Track current media index
        let rotationAngle = 0; // Rotation angle state

        const gallery = document.getElementById('gallery');
        const modal = document.getElementById('modal');
        const closeBtn = document.getElementById('closeBtn');
        const modalMedia = document.getElementById('modal-media');
        const rotateBtn = document.getElementById('rotateBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        // Loop through items to create gallery thumbnails
        items.forEach((item, index) => {
            const thumb = document.createElement('div');
            thumb.classList.add('thumb');
            
            if (item.kind === 'image') {
                const img = document.createElement('img');
                img.src = photoPath + item.url;
                img.alt = item.url;
                img.classList.add('gallery-item');
                img.dataset.type = 'image';
                img.dataset.src = photoPath + item.url;
                img.dataset.index = index; // Save index
                thumb.appendChild(img);
            } else if (item.kind === 'youtube') {
                const img = document.createElement('img');
                img.src = `https://img.youtube.com/vi/${item.id}/0.jpg`; // YouTube thumbnail
                img.alt = "YouTube Video";
                img.classList.add('gallery-item');
                img.dataset.type = 'video';
                img.dataset.src = item.id;
                img.dataset.index = index; // Save index
                thumb.classList.add('video'); // Add 'video' class for play button
                const playBtn = document.createElement('div');
                playBtn.classList.add('play-btn');
                playBtn.innerHTML = '‚ñ∂';
                thumb.appendChild(playBtn);
                thumb.appendChild(img);
            }

            gallery.appendChild(thumb);
        });

        // Open modal on thumbnail click
        gallery.addEventListener('click', (e) => {
            const target = e.target;
            if (target.classList.contains('gallery-item')) {
                currentIndex = parseInt(target.dataset.index);
                showMedia(currentIndex);
                modal.style.display = 'flex';
                // Prevent scrolling in background when modal is open
                document.body.style.overflow = 'hidden';
            }
        });

        // Show media in modal
        function showMedia(index) {
    const item = items[index];
    const type = item.kind;
    const src = item.kind === 'image' ? item.url : item.id;

    // Clear previous content
    modalMedia.innerHTML = '';

    // Add media based on type
    let mediaElement;
    if (type === 'image') {
        mediaElement = document.createElement('img');
        mediaElement.src = photoPath + src;
    } else if (type === 'youtube') {
        mediaElement = document.createElement('iframe');
        mediaElement.src = `https://www.youtube.com/embed/${src}?autoplay=1`;
        mediaElement.frameborder = "0";
        mediaElement.allow = "accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture";
        mediaElement.allowfullscreen = true;
         // Make video iframe larger if it's a YouTube video
        mediaElement.style.maxHeight = '90vh'; // Adjust this if needed
    }

    // Append media to modal
    modalMedia.appendChild(mediaElement);

    // Adjust scaling and rotation
    mediaElement.style.transform = `rotate(${rotationAngle}deg)`;

    // Check if the rotation angle is 90 or 270 degrees, then adjust width/height
    if (rotationAngle === 90 || rotationAngle === 270) {
        mediaElement.style.width = "auto";    // Set width to auto to let height control
        mediaElement.style.height = "80vh";   // Limit height for better scaling
        mediaElement.style.maxWidth = "100%"; // Ensure it doesn't overflow the container
    } else {
        // Default scale for non-rotated media
        mediaElement.style.width = "100%";    // Let width control the scaling
        mediaElement.style.height = "auto";   // Keep aspect ratio intact
    }
}


        // Rotate button functionality
        rotateBtn.addEventListener('click', () => {
            rotationAngle = (rotationAngle + 90) % 360;
            showMedia(currentIndex); // Rescale and rotate the media
        });

        // Navigate to the next media
        nextBtn.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % items.length;
            showMedia(currentIndex);
        });

        // Navigate to the previous media
        prevBtn.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + items.length) % items.length;
            showMedia(currentIndex);
        });

        // Close modal
        closeBtn.addEventListener('click', () => {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto'; // Re-enable body scrolling
        });

        // Close modal on outside click
        window.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto'; // Re-enable body scrolling
            }
        });
    </script>

</body>
</html>
